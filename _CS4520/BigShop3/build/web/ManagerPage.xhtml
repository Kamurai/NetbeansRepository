<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>Project Login / Signup</title>
    </h:head>
    <h:body>
        <h:form>
            <h:commandButton id ="index" value = "Index" action="index"/>
            <h:commandButton id ="loginpage" value = "Login / Signup" action="LoginPage"/>
            <h:commandButton id ="catalog" value = "Browse Catalog" action="catalog"/>
        </h:form>
        <h:form>
            <h:commandButton id ="index" value = "Back to Catalog" action="index"/><br/>
            <h:outputText id="loginname" value = "#{ShopBean.lb.username}"></h:outputText>

        </h:form>
        <c:choose>
            <c:when test="${(ShopBean.lb.isManagerGood() == true)}">
                <h1>LOGIN GOOD!</h1>

                <h:form>

                    <table>
                        <tr>
                            <th>Product Creation</th>
                        </tr>
                        <tr>
                            <th><h:outputText value="Image source" /></th>
                            <th><h:outputText value="Product Name" /></th>
                            <th><h:outputText value="Product Price" /></th>
                            <th><h:outputText value="Inventory" /></th>
                            <th><h:outputText value="Category" /></th>
                            <th><h:outputText value="Description" /></th>

                        </tr>
                        <tr>
                                <td><h:inputText value="#{ShopBean.ib.productpicture}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.productname}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.productprice}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.productinventory}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.producttable}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.productdescription}" /></td>
                        </tr>
                    </table>
                    <h:commandButton value="Create new product with category." action="#{ShopBean.ib.createproduct()}" />
                    <h:outputText value ="#{ShopBean.ib.error}" />


                    <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


                </h:form>
                <br/>
                <br/>
                <br/>
                <h:form>

                    <table>
                        <tr>
                            <td><h:commandButton value="Update Product Data" action="#{ShopBean.ib.updateproducts()}" /></td>
                        </tr>
                        <tr>
                            <th>Product Information Table</th>
                        </tr>
                        <tr>
                            <th><h:outputText value="Image" /></th>
                            <th><h:outputText value="Image source" /></th>
                            <th><h:outputText value="Product Name" /></th>
                            <th><h:outputText value="Product Price" /></th>
                            <th><h:outputText value="Inventory" /></th>
                            <th><h:outputText value="Table" /></th>
                            <th><h:outputText value="Description" /></th>
                        </tr>


                        <c:forEach var="x" begin="0" end="#{(ShopBean.ib.size-1)}" step="1" varStatus ="productid">
                            <c:if test="${ShopBean.ib.info[x].getPicture() != null}">

                            <tr>
                                <td><h:graphicImage alt="Pet" url="#{ShopBean.ib.info[x].picture}" width="100" height="100"/></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].picture}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].name}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].price}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].inventory}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].table}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].description}" /></td>
                                <td><h:outputText value="Delete Product:" /></td>
                                <td><h:selectBooleanCheckbox label="DeleteProduct"  title="DeleteProduct" value="#{ShopBean.ib.deleteproduct[x]}" ></h:selectBooleanCheckbox></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><h:inputText value="#{ShopBean.ib.newproducts[x].picture}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.newproducts[x].name}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.newproducts[x].price}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.newproducts[x].inventory}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.newproducts[x].table}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.newproducts[x].description}" /></td>
                            </tr>
                            </c:if>
                        </c:forEach>
                        <tr>
                            <td><h:commandButton value="Update Product Data" action="#{ShopBean.ib.updateproducts()}" /></td>
                        </tr>

                    </table>



                    <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


                </h:form>
                <br/>
                <br/>
                <br/>
                <h:form>

                    <table>
                        <tr>
                            <th>Customer Creation</th>
                        </tr>
                        <tr>
                            <th><h:outputText value="Firstname" /></th>
                            <th><h:outputText value="Lastname" /></th>
                            <th><h:outputText value="Email" /></th>
                            <th><h:outputText value="Username" /></th>
                            <th><h:outputText value="Password" /></th>
                            <th><h:outputText value="Manager" /></th>
                        </tr>
                        <tr>
                                <td><h:inputText value="#{ShopBean.sb.firstName}" /></td>
                                <td><h:inputText value="#{ShopBean.sb.lastName}" /></td>
                                <td><h:inputText value="#{ShopBean.sb.email}" /></td>
                                <td><h:inputText value="#{ShopBean.sb.username}" /></td>
                                <td><h:inputSecret value="#{ShopBean.sb.password}" /></td>
                                <td><h:outputText value="Manager:" /></td>
                                <td><h:selectBooleanCheckbox label="Manager"  title="Manager" value="#{ShopBean.mb.manager}" ></h:selectBooleanCheckbox></td>
                        </tr>
                    </table>
                    <h:commandButton value="Create new customer with username." action="#{ShopBean.createcustomer()}" />
                    <h:outputText value ="#{ShopBean.ib.error}" />




                    <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


                </h:form>
                <br/>
                <br/>
                <br/>
                <h:form>

                    <table>
                        <tr>
                            <td><h:commandButton value="Update Customer Data" action="#{ShopBean.mb.updatecustomers()}" /></td>
                        </tr>
                        <tr>
                            <th>Username Information Table</th>
                        </tr>
                        <tr>
                            <th><h:outputText value="Firstname" /></th>
                            <th><h:outputText value="Lastname" /></th>
                            <th><h:outputText value="Email" /></th>
                            <th><h:outputText value="Username" /></th>
                            <th><h:outputText value="Password" /></th>
                            <th><h:outputText value="Manager" /></th>
                        </tr>
                        <c:forEach var="x" begin="0" end="#{(ShopBean.mb.usernames.size()-1)}" step="1" varStatus ="customerid">
                            <c:if test="${ShopBean.ib.info[x].getPicture() != null}">
                            <tr>
                                <td><h:outputText value="#{ShopBean.mb.fetchfirstname(x)}" /></td>
                                <td><h:outputText value="#{ShopBean.mb.fetchlastname(x)}" /></td>
                                <td><h:outputText value="#{ShopBean.mb.fetchemail(x)}" /></td>
                                <td><h:outputText value="#{ShopBean.mb.usernames[x].username}" /></td>
                                <td><h:outputText value="#{ShopBean.mb.usernames[x].password}" /></td>
                                <c:choose>
                                    <c:when test="#{ShopBean.mb.usernames[x].manager == true}">
                                        <td><h:outputText value="Manager" /></td>
                                    </c:when>
                                    <c:otherwise>
                                        <td><h:outputText value="Customer" /></td>
                                    </c:otherwise>
                                </c:choose>
                                <td><h:outputText value="Delete Username:" /></td>
                                <td><h:selectBooleanCheckbox label="DeleteUsername"  title="DeleteUsername" value="#{ShopBean.mb.deleteusername[x]}" ></h:selectBooleanCheckbox></td>
                                <td><h:outputText value="Delete Customer:" /></td>
                                <td><h:selectBooleanCheckbox label="DeleteCustomer"  title="DeleteCustomer" value="#{ShopBean.mb.deletecustomer[x]}" ></h:selectBooleanCheckbox></td>
                            </tr>
                            <tr>
                                <td><h:inputText value="#{ShopBean.mb.newcustomerinfo[x].firstname}" /></td>
                                <td><h:inputText value="#{ShopBean.mb.newcustomerinfo[x].lastname}" /></td>
                                <td><h:inputText value="#{ShopBean.mb.newcustomerinfo[x].email}" /></td>
                                <td><h:inputText value="#{ShopBean.mb.newusernames[x].username}" /></td>
                                <td><h:inputText value="#{ShopBean.mb.newusernames[x].password}" /></td>
                                <c:choose>
                                    <c:when test="#{ShopBean.mb.usernames[x].manager == true}">
                                        <td><h:outputText value="Customer:" /></td>
                                        <td><h:selectBooleanCheckbox label="Customer" title="Customer" value="#{ShopBean.mb.newusernames[x].manager}" ></h:selectBooleanCheckbox></td>
                                    </c:when>
                                    <c:otherwise>
                                        <td><h:outputText value="Manager:" /></td>
                                        <td><h:selectBooleanCheckbox label="Manager"  title="Manager" value="#{ShopBean.mb.newusernames[x].manager}" ></h:selectBooleanCheckbox></td>
                                    </c:otherwise>
                                </c:choose>
                            </tr>
                            </c:if>
                        </c:forEach>
                        <tr>
                            <td><h:commandButton value="Update Customer Data" action="#{ShopBean.mb.updatecustomers()}" /></td>
                        </tr>

                    </table>



                    <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


                </h:form>
                <br/>
                <br/>
                <br/>
                <h:form>

                    <table>
                        <tr>
                            <th>Sales Record Information Table</th>
                        </tr>
                        <tr>
                            <th><h:outputText value="Firstname" /></th>
                            <th><h:outputText value="Lastname" /></th>
                            <th><h:outputText value="Street" /></th>
                            <th><h:outputText value="State" /></th>
                            <th><h:outputText value="Country" /></th>
                            <th><h:outputText value="Postal Code" /></th>
                            <th><h:outputText value="Phone Number" /></th>
                        </tr>
                        <c:forEach var="x" begin="0" end="#{(ShopBean.ob.recordlist.size()-1)}" step="1" varStatus ="customerid">
                            <c:if test="${ShopBean.ob.recordlist[x].getUsername() != null}">

                                <tr>
                                    <th><h:outputText value="Username:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getUsername()}" /></td>
                                    <th><h:outputText value="Email:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getEmail()}" /></td>
                                    <th><h:outputText value="Date of Purchase:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getDop()}" /></td>
                                    <th><h:outputText value="Total:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getTotal()}" /></td>

                                </tr>
                                
                                <tr>
                                    <th><h:outputText value="Recipient information:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRfname()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRlname()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRstreet()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRstate()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRcountry()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRpcode()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getRphone()}" /></td>
                                </tr>
                                <tr>
                                    <th><h:outputText value="Billing information:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBfname()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBlname()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBstreet()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBstate()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBcountry()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBpcode()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getBphone()}" /></td>
                                </tr>

                                <tr>
                                    <th><h:outputText value="Credit Card:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getCctype()}" /></td>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getCcnumber()}" /></td>
                                    <th><h:outputText value="Exp:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getCcexp()}" /></td>
                                    <th><h:outputText value="Security code:" /></th>
                                    <td><h:outputText value="#{ShopBean.ob.recordlist[x].getCccode()}" /></td>

                                </tr>
                            
                            </c:if>
                        </c:forEach>
                        
                    </table>



                    <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


                </h:form>

            </c:when>

            <c:otherwise id="errormessage" >
            <p>BAD WOLF!</p>
            <h:outputText value="#{ShopBean.lb.error}" />
            </c:otherwise>
        </c:choose>
    </h:body>
</html>

