<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>Project Login / Signup</title>
    </h:head>
    <h:body>
        <h:form>
            <h:commandButton id ="index" value = "Index" action="index"/>
            <h:commandButton id ="loginpage" value = "Login / Signup" action="LoginPage"/>
            <h:commandButton id ="catalog" value = "Browse Catalog" action="catalog"/>
        </h:form>
        <h:form>
            <h:commandButton id ="index" value = "Back to Catalog" action="index"/><br/>
            <h:outputText id="loginname" value = "#{ShopBean.lb.username}"></h:outputText>

        </h:form>
        <c:choose>
            <c:when test="${ShopBean.lb.isLoginGood() == true}">
                <h1>LOGIN GOOD!</h1>
                <h:form>

                    <table>
                        <tr>
                            <th></th>
                            <th><h:outputText value="Products" /></th>
                            <th><h:outputText value="Prices" /></th>
                            <th><h:outputText value="Inventory" /></th>
                            <th><h:outputText value="Request" /></th>
                            <th><h:outputText value="Totals" /></th>
                        </tr>

                        <c:forEach var="x" begin="0" end="#{ShopBean.ib.size-1}" step="1" varStatus ="amount">
                            <c:if test="${ShopBean.ib.info[x].amount > 0}">

                            <tr>
                                <td><img alt="Pet" src="#{ShopBean.ib.info[x].picture}" width="100" height="100"/></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].name}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].price}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].inventory}" /></td>
                                <td><h:inputText value="#{ShopBean.ib.info[x].amount}" /></td>
                                <td><h:outputText value="#{ShopBean.ib.info[x].subtotal}" /></td>
                            </tr>
                                 </c:if>
                        </c:forEach>

                        <tr>
                            <td></td>
                            <td></td>
                            <td><h:commandButton id ="goback" value = "Keep Shopping" action="Shop"/></td>
                            <td><h:commandButton id ="total" value ="Update" action="#{ShopBean.ib.total}"/></td>
                            <td><h:commandButton id ="checkout" value ="Checkout" action="#{ShopBean.checkout()}"/></td>
                        </tr>
                    </table>



                    <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


                </h:form>

            </c:when>

            <c:otherwise id="errormessage" >
            <p>
            Below should be the desired number of products requested.
            <h:form>
                <h:commandButton id ="index" value = "Index" action="index"/>
                <h:commandButton id ="loginpage" value = "Login / Signup" action="LoginPage"/>
            </h:form>
        </p>

        <!-- this tage starts the form, gives the -->
        <!-- method of sending infromation and the -->
        <!-- location of form script -->
        <h:form>

            <table>
                <tr>
                    <th></th>
                    <th><h:outputText value="Products" /></th>
                    <th><h:outputText value="Prices" /></th>
                    <th><h:outputText value="Inventory" /></th>
                </tr>

                <c:forEach var="x" begin="0" end="#{ShopBean.ib.size-1}" step="1" varStatus ="amount">
                    <tr>
                        <td><img alt="Salamander" src="#{ShopBean.ib.info[x].picture}" width="100" height="100"/></td>
                        <td><h:outputText value="#{ShopBean.ib.info[x].name}" /></td>
                        <td><h:outputText value="#{ShopBean.ib.info[x].price}" /></td>
                        <td><h:outputText value="#{ShopBean.ib.info[x].inventory}" /></td>
                    </tr>
                </c:forEach>
            </table>



            <!--<h:outputLabel id="label1" value="Enter the first number: "/><br/>-->


    </h:form>
            </c:otherwise>
        </c:choose>
    </h:body>


</html>

